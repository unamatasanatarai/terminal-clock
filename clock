#!/usr/bin/env bash

set -euo pipefail

declare -A font

font[0]="_░░░_
░___░
░__░░
░_░_░
░░__░
░___░
_░░░_"

font[1]="__░__
_░░__
░_░__
__░__
__░__
__░__
░░░░░"

font[2]="_░░░_
░___░
____░
__░░_
_░___
░____
░░░░░"

font[3]="_░░░_
░___░
____░
_░░░_
____░
░___░
_░░░_"

font[4]="___░_
__░░_
_░_░_
░__░_
░░░░░
___░_
___░_
___░_"

font[5]="░░░░░
░____
░░░░_
____░
____░
░___░
_░░░_"

font[6]="_░░░_
░___░
░____
░░░░_
░___░
░___░
_░░░_"

font[7]="░░░░░
____░
___░_
__░__
__░__
__░__
__░__"

font[8]="_░░░_
░___░
░___░
_░░░_
░___░
░___░
_░░░_"


font[9]="_░░░_
░___░
░___░
_░░░░
____░
░___░
_░░░_"

font[:]="_____
_____
__░__
_____
__░__
_____
_____"

function show_clock {
  time=$1
  for y in {0..6}; do
    x=$((y * 6))
    for i in {0..4}; do
      idx=${time:$i:1}
      digit="${font[$idx]}"
      line="${digit:$x:5}  "
      echo -n "${line//_/ }"
    done
    echo ""
  done
}

while true; do
  clear
  tput civis
  show_clock "$(date +%H:%M)"
  tput cnorm
  sleep 5
done
